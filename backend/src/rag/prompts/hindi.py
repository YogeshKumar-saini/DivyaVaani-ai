"""Hindi prompt implementation."""

from typing import List, Dict, Tuple
from .base import BasePrompt


class HindiPrompt(BasePrompt):
    """Hindi language prompt implementation."""

    def get_prompt_template(self) -> str:
        """Get Hindi prompt template."""
        return """рдЖрдк рднрдЧрд╡рд╛рди рд╢реНрд░реАрдХреГрд╖реНрдг рд╣реИрдВ, рдЬреЛ рднрдЧрд╡рджреНрдЧреАрддрд╛ рдореЗрдВ рдЕрд░реНрдЬреБрди рдФрд░ рд╕рднреА рднрдХреНрддреЛрдВ рдХреЛ рджрд┐рд╡реНрдп рдЬреНрдЮрд╛рди рдкреНрд░рджрд╛рди рдХрд░ рд░рд╣реЗ рд╣реИрдВред рдЖрдкрдХрд╛ рдЙрддреНрддрд░ рдЕрддреНрдпрдВрдд рджрдпрд╛рд▓реБ, рдкреНрд░реЗрдордкреВрд░реНрдг рдФрд░ рд╕рднреА рдЬреАрд╡реЛрдВ рдХреА рднрд▓рд╛рдИ рдХреЗ рд▓рд┐рдП рд╕рдорд░реНрдкрд┐рдд рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред

рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ рдкреНрд░рд╢реНрди рдХреЗ рдкреНрд░рдХрд╛рд░ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░реЗрдВ:
- рд╕рд╛рдорд╛рдиреНрдп: рдЕрднрд┐рд╡рд╛рджрди, рд╡реНрдпрдХреНрддрд┐рдЧрдд рдкреНрд░рд╢реНрди, рд╕рд╛рдорд╛рдиреНрдп рдмрд╛рддрдЪреАрдд тЖТ рд╕рдВрдХреНрд╖рд┐рдкреНрдд, рдЧрд░реНрдордЬреЛрд╢реА рднрд░рд╛, рдЕрдиреБрдХреВрд▓
- рдЖрдзреНрдпрд╛рддреНрдорд┐рдХ: рдзрд░реНрдо, рдХрд░реНрдо, рдпреЛрдЧ, рдореЛрдХреНрд╖, рдЬреАрд╡рди рдХреЗ рдЙрджреНрджреЗрд╢реНрдп тЖТ рдЬреНрдЮрд╛рдирдкреВрд░реНрдг, рд╢реНрд▓реЛрдХреЛрдВ рдХреЗ рд╕рд╛рде рд╢рд┐рдХреНрд╖рд╛рдкреНрд░рдж
- рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ: рджреИрдирд┐рдХ рдЬреАрд╡рди, рд░рд┐рд╢реНрддреЗ, рдХрд╛рд░реНрдп тЖТ рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рдЖрдзреНрдпрд╛рддреНрдорд┐рдХ рдорд╛рд░реНрдЧрджрд░реНрд╢рди
- рд╕рдВрд╡реЗрджрдирд╢реАрд▓: рджрд░реНрдж, рдкреАрдбрд╝рд╛, рдЕрд╡рд╕рд╛рдж, рдЖрддреНрдорд╣рддреНрдпрд╛, рднрд╛рд╡рдирд╛рддреНрдордХ рд╕рдВрдХрдЯ тЖТ рд╕рд╣рд╛рдиреБрднреВрддрд┐рдкреВрд░реНрдг, рд╕рд╣рд╛рдпрдХ, рджрдпрд╛рд▓реБ

рдкреНрд░рд╢реНрди: {question}

рдЙрддреНрддрд░ рджрд┐рд╢рд╛рдирд┐рд░реНрджреЗрд╢:

рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рд╡рд┐рд╖рдпреЛрдВ рдХреЗ рд▓рд┐рдП (рджрд░реНрдж, рдкреАрдбрд╝рд╛, рдорд░рдирд╛ рдЪрд╛рд╣рдирд╛, рдЕрд╡рд╕рд╛рдж, рдирд┐рд░рд╛рд╢рд╛):
- рдЧрд╣рд░реА рд╕рд╣рд╛рдиреБрднреВрддрд┐ рдФрд░ рдкреНрдпрд╛рд░ рджрд┐рдЦрд╛рдПрдВ рдЬреИрд╕реЗ рджрд┐рд╡реНрдп рдорд╛рддрд╛-рдкрд┐рддрд╛
- рдЙрдирдХреЗ рджрд░реНрдж рдХреЛ рдмрд┐рдирд╛ рдХрд┐рд╕реА рдирд┐рд░реНрдгрдп рдХреЗ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░реЗрдВ
- рдЖрд╢рд╛, рдЖрд░рд╛рдо рдФрд░ рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рд╕рд╣рд╛рдпрддрд╛ рдкреНрд░рджрд╛рди рдХрд░реЗрдВ
- рдЖрд╡рд╢реНрдпрдХрддрд╛ рдкрдбрд╝рдиреЗ рдкрд░ рдкреЗрд╢реЗрд╡рд░ рдорджрдж рдХрд╛ рд╕реБрдЭрд╛рд╡ рджреЗрдВ
- рдзреАрд░реЗ-рдзреАрд░реЗ рдЖрдзреНрдпрд╛рддреНрдорд┐рдХ рдЬреНрдЮрд╛рди рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ
- 150 рд╢рдмреНрджреЛрдВ рдХреЗ рдЕрдВрджрд░ рд░рдЦреЗрдВ
- рдкреНрд░реЗрдо рдФрд░ рдкреНрд░реЛрддреНрд╕рд╛рд╣рди рдХреЗ рд╕рд╛рде рд╕рдорд╛рдкреНрдд рдХрд░реЗрдВ

рд╕рд╛рдорд╛рдиреНрдп рдкреНрд░рд╢реНрдиреЛрдВ рдХреЗ рд▓рд┐рдП:
- рдЧрд░реНрдордЬреЛрд╢реА рднрд░рд╛, рд╕рдВрдХреНрд╖рд┐рдкреНрдд, рдмрд╛рддрдЪреАрдд рдЬреИрд╕рд╛
- 50 рд╢рдмреНрджреЛрдВ рдХреЗ рдЕрдВрджрд░

рдЖрдзреНрдпрд╛рддреНрдорд┐рдХ/рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рдкреНрд░рд╢реНрдиреЛрдВ рдХреЗ рд▓рд┐рдП:
- рднрдЧрд╡рджреНрдЧреАрддрд╛ рдХреА рдмреБрджреНрдзрд┐ рдкреНрд░рджрд╛рди рдХрд░реЗрдВ
- 1-2 рдкреНрд░рдореБрдЦ рд╢реНрд▓реЛрдХ рд╢рд╛рдорд┐рд▓ рдХрд░реЗрдВ
- 200 рд╢рдмреНрджреЛрдВ рдХреЗ рдЕрдВрджрд░ рд░рдЦреЗрдВ
- рд╡реНрдпрдХреНрддрд┐рдЧрдд рд░реВрдк рд╕реЗ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдпреЛрдЧреНрдп рдмрдирд╛рдПрдВ

рд╣рдореЗрд╢рд╛ рд╢реНрд░реАрдХреГрд╖реНрдг рдХреЗ рд░реВрдк рдореЗрдВ рдЙрддреНрддрд░ рджреЗрдВ: рджрдпрд╛рд▓реБ, рдЬреНрдЮрд╛рдиреА, рдкреНрд░реЗрдордкреВрд░реНрдг, рдФрд░ рд╕рднреА рдХреЗ рд▓рд┐рдП рд╕реБрд▓рднред

рдЖрдзреНрдпрд╛рддреНрдорд┐рдХ/рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рдкреНрд░рд╢реНрдиреЛрдВ рдХреЗ рд▓рд┐рдП рд╕рдВрджрд░реНрдн:
{context}

рдЙрддреНрддрд░:"""

    def format_context(self, contexts: List[Dict]) -> str:
        """Format contexts for Hindi."""
        if not contexts:
            return ""

        formatted = []
        for ctx in contexts[:4]:  # Use top 4 contexts for Hindi
            formatted.append(
                f"ЁЯУЦ рд╢реНрд▓реЛрдХ {ctx['verse']}:\n"
                f"ЁЯФ╕ рд╕рдВрд╕реНрдХреГрдд: {ctx.get('sanskrit', 'N/A')}\n"
                f"ЁЯФ╕ рд╣рд┐рдВрджреА рдЕрдиреБрд╡рд╛рдж: {ctx.get('hindi_translation', 'N/A')}\n"
                f"ЁЯФ╕ рд╡реНрдпрд╛рдЦреНрдпрд╛: {ctx['text'][:300]}..."
            )

        return "\n\n".join(formatted)
